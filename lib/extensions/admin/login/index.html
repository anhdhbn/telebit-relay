<!DOCTYPE html>
<html>
<head>
  <!--meta http-equiv="refresh" content="5;url=https://' + tokenData.domains.join(',') + '/?serviceport=' + tokenData.ports.join(',')" /-->
</head>
<body>
  <script>document.body.hidden = true;</script>

  <div class="js-error" hidden>
    <h1>Invalid Magic Link</h1>
    <div class="js-magic-link">'{{magic_link}}' isn't a valid magic link code.
      <br>Links are only valid for a limited time, so you gotta act fast.
    </div>
  </div>

  <div class="js-magic" hidden><form class="js-submit">
    <h1>Telebit</h1>
    <h2>Pair <span class="js-hostname">Device</span></h1>

    <p>Enter your device pairing code:
      <input type="text" name="pair-code" placeholder="ex: 000 000">
    </p>

    <ul>
      <li><label><input name="telebit-agree" type="checkbox" required> Agree to Telebit Terms of Service</label>
      </li>
      <li><label><input name="letsencrypt-agree" type="checkbox" required> Agree to Let's Encrypt Terms of Service</label>
      </li>
    </ul>

    <p>
    <button type="submit">Claim Device</button>
    </p>
  </form></div>

  <div class="js-authz" hidden>

    <h1>Telebit Authorized</h1>

    <h2>Waiting for your device to connect...</h2>
    <p>Check your device to complete the pairing.</p>

    <h2>ðŸ”’ <span class="js-domainname">xxx-xxx-xxx.example.com</span></h2>
    <p>When your device is paired you will be redirected to
      <a class="js-new-href">{{js-new-href}}</a>.
    </p>

    <h2 class="js-serviceport">xxxxx</h2>
    <p>When your device is paired you will be able to use <span class="js-serviceport">xxxxx</span>
    for SSH, and other TCP protocols.</p>
    <pre><code>telebit ssh auto

ssh <span class="js-domainname">{{servername}}</span> -p <span class="js-serviceport">{{serviceport}}</span></code></pre>
</code></pre>

    <h2>Authorization Token</h2>
    <small><pre><code class="js-token">{{js-token}}</code></pre></small>

  </div>

  <script src="js/app.js"></script>
</body>
</html>
